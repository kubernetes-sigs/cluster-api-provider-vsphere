#cloud-config

---
ssh_authorized_keys:
- "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFIKszT265HYuhwWJ3CwozCKXI3y94bQoocQf1/ERq7XkWJ57W3rkbpMXtM0l1IKfhjnkRzFkXDa5WgRYFvAosh68LeKmYhoJYOKnyvx/nYBT/aYWdLu/edgv8T8GYKG1MiU6RdNvsGsXIAKhknBtcsmTcR2niEwOmXQ5M/P3oMswWk+4WIcWyJU6BWAQbK/alVn5kIRQFas47k6Pkm1Tg7TKv+MOX6JPzv8gOqxvqcXFKoEcTthC2JsKvmRwAOtLrBHh5BMzOKV9G+CnmgzmM/p6qU1nfebvDNuBtzThURP0lTcJGmf+g5WtbJ8vdUd+MAFZGpvoARl1v1s4Ubked capi"

write_files:
- path: /etc/hostname
  owner: root:root
  permissions: 0644
  content: |
    capi.vm
- path: /etc/hosts
  owner: root:root
  permissions: 0644
  content: |
    ::1        capi capi.vm localhost ip6-localhost ip6-loopback
    127.0.0.1  capi capi.vm localhost localhost.vm

- path: /etc/kubernetes/pki/ca.crt
  owner: root:root
  permissions: '0640'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXlNVEUwTXprd04xb1hEVEk1TURVeE9ERTBNemt3TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBUHJCCnZBV0U4UHhQTHVXVDI2NER3VHBJTnJ0aUVSek8wWEdIVXdmWFcyUWx0QlFLdjdjMkpmVXVmWkJxWnF6RDRLelYKNkliVUdvT2w0R21mNUlFcDRuYk5GRjN4SGNiYk5SUGNvc0U5ZTZNWEpwS2RkeStKUDFoM0pSdVhKZ0kvVDVuZwpYQ0xxVkRsVm9IN1BQSjFTbDJQTjYxSG9ORitBT3doNHFWQmdWZ1FuYStIR3kyenFxejROOVl3R01vQ2NNd0hMCjB2QlR2cC9DeGZ5RGRsaVdpYUM4WG55RUtiNkN0VWMwdjVpTkM1dGs3REQ2TVZoZXFMWVVCTDNwRGN0NEFRVnkKVXIwbkptMW1RVWloRm52ZVVpdGlSelo2NExWdVRuZThrdnVwZlFyUEFQb0R5VDgweXhwOEJMeDlEaXo5ZENwKwpKdGppbFFMOS90WU40MDNiS1MwQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCi93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQ091K1ZLbkIrNTVzUWs2MjdweEVzVnUKN0tNUlNGSW5qekZqa3Npc2ppSU9YZWFVS29RSFpaY3NvMzJVNjdwNjFMUGFUWmVERnpLRVlTK2RYRnJmeWFiNQp4Z1VVMmgxQ0ZTWDl6UFJscC9PQUx0KzVLVzc2blN3UGtFbDlPeE12VzBNZ2xTaEFaVW0ySjlFYkZJZEt6TFpYCjJUeXpmVmx4WHVMV2RUb0RqRTJ4Rnh2eUpLejh3ajdpbDlTL29hTmVyeFF3eFBYTm9ldmxtUGlqT0taUDN2L0sKb2F0U2VPcXZVZHMwSXVkRU1CRWF1dXBxS0ZmejVYd3B1aTI2OHdOem9keHlQckJLL3dCSDBxRnh0bndFY2ZZRApQMDVMd1RwUCt4dnF4cU5OeUlGUndGWnc1NGhLSXFWZktWcU5pYi9pWVpxNEp6RFc1cFdyUWEzeG9BMklvR009Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'
- path: /etc/kubernetes/pki/ca.key
  owner: root:root
  permissions: '0600'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBK3NHOEJZVHcvRTh1NVpQYnJnUEJPa2cydTJJUkhNN1JjWWRUQjlkYlpDVzBGQXEvCnR6WWw5UzU5a0dwbXJNUGdyTlhvaHRRYWc2WGdhWi9rZ1NuaWRzMFVYZkVkeHRzMUU5eWl3VDE3b3hjbWtwMTMKTDRrL1dIY2xHNWNtQWo5UG1lQmNJdXBVT1ZXZ2ZzODhuVktYWTgzclVlZzBYNEE3Q0hpcFVHQldCQ2RyNGNiTApiT3FyUGczMWpBWXlnSnd6QWN2UzhGTytuOExGL0lOMldKYUpvTHhlZklRcHZvSzFSelMvbUkwTG0yVHNNUG94CldGNm90aFFFdmVrTnkzZ0JCWEpTdlNjbWJXWkJTS0VXZTk1U0sySkhObnJndFc1T2Q3eVMrNmw5Q3M4QStnUEoKUHpUTEdud0V2SDBPTFAxMEtuNG0yT0tWQXYzKzFnM2pUZHNwTFFJREFRQUJBb0lCQUFuR29janBUT2ZaUW0vSwoydWFtMk5LbjNCSmtHVnl4SjNNd25ta1EyVXhIT0FVTUFqdG5UZ1dJQVhjdTNyL2ZoeFBWNXhIU2xSSUsxbnZuCnN1WGlOeVVBaThtNXk3cGo4MmJKMUVLS1hoYVdvWGRYMGp5MU1oWUYxeG1EUkFVVWFNc0w5eXVaVFIxTEhFMjEKVUp5bGlxZG1jTVVwczFrQnk4dGh3T0FVVVdZcCs0WlVLU1ZoOXZQYU9RYnNQYVRFV2dReml6NXJZL0Q3dEFCegpjcUxmbUVGZlNLREJtbGR2V3ZMZ2E4eElNb0xBUUhqdlRqNm0wNFRXam5kcHBhemR3R29rdjZWTHBoY3I4eFh1CjJWVUJCblhVYVM5ZWQwR1BvOEk3T3VGMEozZlR5bmt2TkUrV2pKK2dDajM1MlYwMk9hREIzaTV4YzBXVjNtVUkKNW1YL0pwVUNnWUVBL1pGZnpPeXE1RUlhR3FJdk5Xdmt2NUw1enVvZVA3SFRLNW9kbHlZZFNCazdxbEpVOUJXMgpMWTZRUytGQ2xBYzFaUXhpZWdmazd5dCtRMWYxS1Jsd09qcU9zUTV1TS9ma01oSzVEMDFJOWpSSFQ2MnY0NlVvCjV2T2hBays4dlRvZi9CVVhQNG1BSW1sWWZHYnhDOVBkL3V6YTNOcWQ3TXRWOG1jRzh1NXNrbWNDZ1lFQS9TbDEKTEtNQmhhekh4L1k4dXcwYUtsVzNIbUVmaEUxMVJBQVBtRG4zRnIvQ08xTWtMYVBSelZXREJPM2w1REkzMGw4SAphcEdZZDc4VWVQVzQzb2cwdkh1ZU41SWpIYWxPSWR2V1JGRHFMYkI2OC9NSkRCY1lTTVRWMFZSWnEzb3dWM1U4CjhnaklMUWh4WmQyQTJuYlNiR3poYXFBNHFZUXhIa2M0U3NKNGMwc0NnWUVBOU5QZXVoQnhXSDl5a1BDendGTHkKeFA1MmNSQ2dNRVBVYnk4WkR3M2dDL05CSnN6ajllRFl5OWZ3L3pMNmc4OEtBUTBhTUZWYStJcjRHTEhlcHRaSApCQkh5SUlhY1pWVWVZakt0dUZhWThnKzhJdlRDOVh4TXArSG9Qa0ViTFdIbjdBKzVLTUhzbEUwL0FLNnNZdzBvCk5iSWdDRXFWWFVOZk12UERRK0J0dUZVQ2dZRUFod3ZtaGJrdXhyQTBvbWFvWHQvT1pXYjBHRENYTDJ4aWNiUFcKbmMzT0VVU1p5Q3ZCME5iaXhEWXBmaWVweXVFL0JlbkxldjNQNTVEMnlzL0pubXZxTmVGN3RRa3YwbExPYXlGcQpXMmNPaFBEdnBkS3ZzTk5oRVBCdlh3c3dDbGxVRUZOcC8zTFAxYlg3Uit1eElOamh4eFVONm1NdDFyKzlzL2twCi9qZGZLYUVDZ1lFQTFTRExIN0g2QU5IRWllbCtvS1hLSERmN1dEK1pZcGhmYWVrd1RZZDRTeUpKRFBNSjVBWEYKTXU3Z1lLc0FWbDJFYjdCZ21FL3lJa1RTc3hxdklEV2xsUFFqblZmQ2xYRUdmY3JXQ3VMdVFqcXhRVUZuZStMaQpHenZzYUlORm5lUHRpZWEzenQyQks5RlVTcDNjZUlGdVpBVGNTYk9EcThIT0p6dXRTcmVYYnRzPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo='

- path: /etc/kubernetes/pki/etcd/ca.crt
  owner: root:root
  permissions: '0640'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXlNVEUwTXprd04xb1hEVEk1TURVeE9ERTBNemt3TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBUHJCCnZBV0U4UHhQTHVXVDI2NER3VHBJTnJ0aUVSek8wWEdIVXdmWFcyUWx0QlFLdjdjMkpmVXVmWkJxWnF6RDRLelYKNkliVUdvT2w0R21mNUlFcDRuYk5GRjN4SGNiYk5SUGNvc0U5ZTZNWEpwS2RkeStKUDFoM0pSdVhKZ0kvVDVuZwpYQ0xxVkRsVm9IN1BQSjFTbDJQTjYxSG9ORitBT3doNHFWQmdWZ1FuYStIR3kyenFxejROOVl3R01vQ2NNd0hMCjB2QlR2cC9DeGZ5RGRsaVdpYUM4WG55RUtiNkN0VWMwdjVpTkM1dGs3REQ2TVZoZXFMWVVCTDNwRGN0NEFRVnkKVXIwbkptMW1RVWloRm52ZVVpdGlSelo2NExWdVRuZThrdnVwZlFyUEFQb0R5VDgweXhwOEJMeDlEaXo5ZENwKwpKdGppbFFMOS90WU40MDNiS1MwQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCi93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQ091K1ZLbkIrNTVzUWs2MjdweEVzVnUKN0tNUlNGSW5qekZqa3Npc2ppSU9YZWFVS29RSFpaY3NvMzJVNjdwNjFMUGFUWmVERnpLRVlTK2RYRnJmeWFiNQp4Z1VVMmgxQ0ZTWDl6UFJscC9PQUx0KzVLVzc2blN3UGtFbDlPeE12VzBNZ2xTaEFaVW0ySjlFYkZJZEt6TFpYCjJUeXpmVmx4WHVMV2RUb0RqRTJ4Rnh2eUpLejh3ajdpbDlTL29hTmVyeFF3eFBYTm9ldmxtUGlqT0taUDN2L0sKb2F0U2VPcXZVZHMwSXVkRU1CRWF1dXBxS0ZmejVYd3B1aTI2OHdOem9keHlQckJLL3dCSDBxRnh0bndFY2ZZRApQMDVMd1RwUCt4dnF4cU5OeUlGUndGWnc1NGhLSXFWZktWcU5pYi9pWVpxNEp6RFc1cFdyUWEzeG9BMklvR009Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'
- path: /etc/kubernetes/pki/etcd/ca.key
  owner: root:root
  permissions: '0600'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBK3NHOEJZVHcvRTh1NVpQYnJnUEJPa2cydTJJUkhNN1JjWWRUQjlkYlpDVzBGQXEvCnR6WWw5UzU5a0dwbXJNUGdyTlhvaHRRYWc2WGdhWi9rZ1NuaWRzMFVYZkVkeHRzMUU5eWl3VDE3b3hjbWtwMTMKTDRrL1dIY2xHNWNtQWo5UG1lQmNJdXBVT1ZXZ2ZzODhuVktYWTgzclVlZzBYNEE3Q0hpcFVHQldCQ2RyNGNiTApiT3FyUGczMWpBWXlnSnd6QWN2UzhGTytuOExGL0lOMldKYUpvTHhlZklRcHZvSzFSelMvbUkwTG0yVHNNUG94CldGNm90aFFFdmVrTnkzZ0JCWEpTdlNjbWJXWkJTS0VXZTk1U0sySkhObnJndFc1T2Q3eVMrNmw5Q3M4QStnUEoKUHpUTEdud0V2SDBPTFAxMEtuNG0yT0tWQXYzKzFnM2pUZHNwTFFJREFRQUJBb0lCQUFuR29janBUT2ZaUW0vSwoydWFtMk5LbjNCSmtHVnl4SjNNd25ta1EyVXhIT0FVTUFqdG5UZ1dJQVhjdTNyL2ZoeFBWNXhIU2xSSUsxbnZuCnN1WGlOeVVBaThtNXk3cGo4MmJKMUVLS1hoYVdvWGRYMGp5MU1oWUYxeG1EUkFVVWFNc0w5eXVaVFIxTEhFMjEKVUp5bGlxZG1jTVVwczFrQnk4dGh3T0FVVVdZcCs0WlVLU1ZoOXZQYU9RYnNQYVRFV2dReml6NXJZL0Q3dEFCegpjcUxmbUVGZlNLREJtbGR2V3ZMZ2E4eElNb0xBUUhqdlRqNm0wNFRXam5kcHBhemR3R29rdjZWTHBoY3I4eFh1CjJWVUJCblhVYVM5ZWQwR1BvOEk3T3VGMEozZlR5bmt2TkUrV2pKK2dDajM1MlYwMk9hREIzaTV4YzBXVjNtVUkKNW1YL0pwVUNnWUVBL1pGZnpPeXE1RUlhR3FJdk5Xdmt2NUw1enVvZVA3SFRLNW9kbHlZZFNCazdxbEpVOUJXMgpMWTZRUytGQ2xBYzFaUXhpZWdmazd5dCtRMWYxS1Jsd09qcU9zUTV1TS9ma01oSzVEMDFJOWpSSFQ2MnY0NlVvCjV2T2hBays4dlRvZi9CVVhQNG1BSW1sWWZHYnhDOVBkL3V6YTNOcWQ3TXRWOG1jRzh1NXNrbWNDZ1lFQS9TbDEKTEtNQmhhekh4L1k4dXcwYUtsVzNIbUVmaEUxMVJBQVBtRG4zRnIvQ08xTWtMYVBSelZXREJPM2w1REkzMGw4SAphcEdZZDc4VWVQVzQzb2cwdkh1ZU41SWpIYWxPSWR2V1JGRHFMYkI2OC9NSkRCY1lTTVRWMFZSWnEzb3dWM1U4CjhnaklMUWh4WmQyQTJuYlNiR3poYXFBNHFZUXhIa2M0U3NKNGMwc0NnWUVBOU5QZXVoQnhXSDl5a1BDendGTHkKeFA1MmNSQ2dNRVBVYnk4WkR3M2dDL05CSnN6ajllRFl5OWZ3L3pMNmc4OEtBUTBhTUZWYStJcjRHTEhlcHRaSApCQkh5SUlhY1pWVWVZakt0dUZhWThnKzhJdlRDOVh4TXArSG9Qa0ViTFdIbjdBKzVLTUhzbEUwL0FLNnNZdzBvCk5iSWdDRXFWWFVOZk12UERRK0J0dUZVQ2dZRUFod3ZtaGJrdXhyQTBvbWFvWHQvT1pXYjBHRENYTDJ4aWNiUFcKbmMzT0VVU1p5Q3ZCME5iaXhEWXBmaWVweXVFL0JlbkxldjNQNTVEMnlzL0pubXZxTmVGN3RRa3YwbExPYXlGcQpXMmNPaFBEdnBkS3ZzTk5oRVBCdlh3c3dDbGxVRUZOcC8zTFAxYlg3Uit1eElOamh4eFVONm1NdDFyKzlzL2twCi9qZGZLYUVDZ1lFQTFTRExIN0g2QU5IRWllbCtvS1hLSERmN1dEK1pZcGhmYWVrd1RZZDRTeUpKRFBNSjVBWEYKTXU3Z1lLc0FWbDJFYjdCZ21FL3lJa1RTc3hxdklEV2xsUFFqblZmQ2xYRUdmY3JXQ3VMdVFqcXhRVUZuZStMaQpHenZzYUlORm5lUHRpZWEzenQyQks5RlVTcDNjZUlGdVpBVGNTYk9EcThIT0p6dXRTcmVYYnRzPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo='

- path: /etc/kubernetes/pki/front-proxy-ca.crt
  owner: root:root
  permissions: '0640'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXlNVEUwTXprd04xb1hEVEk1TURVeE9ERTBNemt3TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBUHJCCnZBV0U4UHhQTHVXVDI2NER3VHBJTnJ0aUVSek8wWEdIVXdmWFcyUWx0QlFLdjdjMkpmVXVmWkJxWnF6RDRLelYKNkliVUdvT2w0R21mNUlFcDRuYk5GRjN4SGNiYk5SUGNvc0U5ZTZNWEpwS2RkeStKUDFoM0pSdVhKZ0kvVDVuZwpYQ0xxVkRsVm9IN1BQSjFTbDJQTjYxSG9ORitBT3doNHFWQmdWZ1FuYStIR3kyenFxejROOVl3R01vQ2NNd0hMCjB2QlR2cC9DeGZ5RGRsaVdpYUM4WG55RUtiNkN0VWMwdjVpTkM1dGs3REQ2TVZoZXFMWVVCTDNwRGN0NEFRVnkKVXIwbkptMW1RVWloRm52ZVVpdGlSelo2NExWdVRuZThrdnVwZlFyUEFQb0R5VDgweXhwOEJMeDlEaXo5ZENwKwpKdGppbFFMOS90WU40MDNiS1MwQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCi93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQ091K1ZLbkIrNTVzUWs2MjdweEVzVnUKN0tNUlNGSW5qekZqa3Npc2ppSU9YZWFVS29RSFpaY3NvMzJVNjdwNjFMUGFUWmVERnpLRVlTK2RYRnJmeWFiNQp4Z1VVMmgxQ0ZTWDl6UFJscC9PQUx0KzVLVzc2blN3UGtFbDlPeE12VzBNZ2xTaEFaVW0ySjlFYkZJZEt6TFpYCjJUeXpmVmx4WHVMV2RUb0RqRTJ4Rnh2eUpLejh3ajdpbDlTL29hTmVyeFF3eFBYTm9ldmxtUGlqT0taUDN2L0sKb2F0U2VPcXZVZHMwSXVkRU1CRWF1dXBxS0ZmejVYd3B1aTI2OHdOem9keHlQckJLL3dCSDBxRnh0bndFY2ZZRApQMDVMd1RwUCt4dnF4cU5OeUlGUndGWnc1NGhLSXFWZktWcU5pYi9pWVpxNEp6RFc1cFdyUWEzeG9BMklvR009Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'
- path: /etc/kubernetes/pki/front-proxy-ca.key
  owner: root:root
  permissions: '0600'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBK3NHOEJZVHcvRTh1NVpQYnJnUEJPa2cydTJJUkhNN1JjWWRUQjlkYlpDVzBGQXEvCnR6WWw5UzU5a0dwbXJNUGdyTlhvaHRRYWc2WGdhWi9rZ1NuaWRzMFVYZkVkeHRzMUU5eWl3VDE3b3hjbWtwMTMKTDRrL1dIY2xHNWNtQWo5UG1lQmNJdXBVT1ZXZ2ZzODhuVktYWTgzclVlZzBYNEE3Q0hpcFVHQldCQ2RyNGNiTApiT3FyUGczMWpBWXlnSnd6QWN2UzhGTytuOExGL0lOMldKYUpvTHhlZklRcHZvSzFSelMvbUkwTG0yVHNNUG94CldGNm90aFFFdmVrTnkzZ0JCWEpTdlNjbWJXWkJTS0VXZTk1U0sySkhObnJndFc1T2Q3eVMrNmw5Q3M4QStnUEoKUHpUTEdud0V2SDBPTFAxMEtuNG0yT0tWQXYzKzFnM2pUZHNwTFFJREFRQUJBb0lCQUFuR29janBUT2ZaUW0vSwoydWFtMk5LbjNCSmtHVnl4SjNNd25ta1EyVXhIT0FVTUFqdG5UZ1dJQVhjdTNyL2ZoeFBWNXhIU2xSSUsxbnZuCnN1WGlOeVVBaThtNXk3cGo4MmJKMUVLS1hoYVdvWGRYMGp5MU1oWUYxeG1EUkFVVWFNc0w5eXVaVFIxTEhFMjEKVUp5bGlxZG1jTVVwczFrQnk4dGh3T0FVVVdZcCs0WlVLU1ZoOXZQYU9RYnNQYVRFV2dReml6NXJZL0Q3dEFCegpjcUxmbUVGZlNLREJtbGR2V3ZMZ2E4eElNb0xBUUhqdlRqNm0wNFRXam5kcHBhemR3R29rdjZWTHBoY3I4eFh1CjJWVUJCblhVYVM5ZWQwR1BvOEk3T3VGMEozZlR5bmt2TkUrV2pKK2dDajM1MlYwMk9hREIzaTV4YzBXVjNtVUkKNW1YL0pwVUNnWUVBL1pGZnpPeXE1RUlhR3FJdk5Xdmt2NUw1enVvZVA3SFRLNW9kbHlZZFNCazdxbEpVOUJXMgpMWTZRUytGQ2xBYzFaUXhpZWdmazd5dCtRMWYxS1Jsd09qcU9zUTV1TS9ma01oSzVEMDFJOWpSSFQ2MnY0NlVvCjV2T2hBays4dlRvZi9CVVhQNG1BSW1sWWZHYnhDOVBkL3V6YTNOcWQ3TXRWOG1jRzh1NXNrbWNDZ1lFQS9TbDEKTEtNQmhhekh4L1k4dXcwYUtsVzNIbUVmaEUxMVJBQVBtRG4zRnIvQ08xTWtMYVBSelZXREJPM2w1REkzMGw4SAphcEdZZDc4VWVQVzQzb2cwdkh1ZU41SWpIYWxPSWR2V1JGRHFMYkI2OC9NSkRCY1lTTVRWMFZSWnEzb3dWM1U4CjhnaklMUWh4WmQyQTJuYlNiR3poYXFBNHFZUXhIa2M0U3NKNGMwc0NnWUVBOU5QZXVoQnhXSDl5a1BDendGTHkKeFA1MmNSQ2dNRVBVYnk4WkR3M2dDL05CSnN6ajllRFl5OWZ3L3pMNmc4OEtBUTBhTUZWYStJcjRHTEhlcHRaSApCQkh5SUlhY1pWVWVZakt0dUZhWThnKzhJdlRDOVh4TXArSG9Qa0ViTFdIbjdBKzVLTUhzbEUwL0FLNnNZdzBvCk5iSWdDRXFWWFVOZk12UERRK0J0dUZVQ2dZRUFod3ZtaGJrdXhyQTBvbWFvWHQvT1pXYjBHRENYTDJ4aWNiUFcKbmMzT0VVU1p5Q3ZCME5iaXhEWXBmaWVweXVFL0JlbkxldjNQNTVEMnlzL0pubXZxTmVGN3RRa3YwbExPYXlGcQpXMmNPaFBEdnBkS3ZzTk5oRVBCdlh3c3dDbGxVRUZOcC8zTFAxYlg3Uit1eElOamh4eFVONm1NdDFyKzlzL2twCi9qZGZLYUVDZ1lFQTFTRExIN0g2QU5IRWllbCtvS1hLSERmN1dEK1pZcGhmYWVrd1RZZDRTeUpKRFBNSjVBWEYKTXU3Z1lLc0FWbDJFYjdCZ21FL3lJa1RTc3hxdklEV2xsUFFqblZmQ2xYRUdmY3JXQ3VMdVFqcXhRVUZuZStMaQpHenZzYUlORm5lUHRpZWEzenQyQks5RlVTcDNjZUlGdVpBVGNTYk9EcThIT0p6dXRTcmVYYnRzPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo='

- path: /etc/kubernetes/pki/sa.pub
  owner: root:root
  permissions: '0640'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5ekNDQWJPZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXlNVEUwTXprd04xb1hEVEk1TURVeE9ERTBNemt3TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBUHJCCnZBV0U4UHhQTHVXVDI2NER3VHBJTnJ0aUVSek8wWEdIVXdmWFcyUWx0QlFLdjdjMkpmVXVmWkJxWnF6RDRLelYKNkliVUdvT2w0R21mNUlFcDRuYk5GRjN4SGNiYk5SUGNvc0U5ZTZNWEpwS2RkeStKUDFoM0pSdVhKZ0kvVDVuZwpYQ0xxVkRsVm9IN1BQSjFTbDJQTjYxSG9ORitBT3doNHFWQmdWZ1FuYStIR3kyenFxejROOVl3R01vQ2NNd0hMCjB2QlR2cC9DeGZ5RGRsaVdpYUM4WG55RUtiNkN0VWMwdjVpTkM1dGs3REQ2TVZoZXFMWVVCTDNwRGN0NEFRVnkKVXIwbkptMW1RVWloRm52ZVVpdGlSelo2NExWdVRuZThrdnVwZlFyUEFQb0R5VDgweXhwOEJMeDlEaXo5ZENwKwpKdGppbFFMOS90WU40MDNiS1MwQ0F3RUFBYU1tTUNRd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCi93UUlNQVlCQWY4Q0FRQXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQ091K1ZLbkIrNTVzUWs2MjdweEVzVnUKN0tNUlNGSW5qekZqa3Npc2ppSU9YZWFVS29RSFpaY3NvMzJVNjdwNjFMUGFUWmVERnpLRVlTK2RYRnJmeWFiNQp4Z1VVMmgxQ0ZTWDl6UFJscC9PQUx0KzVLVzc2blN3UGtFbDlPeE12VzBNZ2xTaEFaVW0ySjlFYkZJZEt6TFpYCjJUeXpmVmx4WHVMV2RUb0RqRTJ4Rnh2eUpLejh3ajdpbDlTL29hTmVyeFF3eFBYTm9ldmxtUGlqT0taUDN2L0sKb2F0U2VPcXZVZHMwSXVkRU1CRWF1dXBxS0ZmejVYd3B1aTI2OHdOem9keHlQckJLL3dCSDBxRnh0bndFY2ZZRApQMDVMd1RwUCt4dnF4cU5OeUlGUndGWnc1NGhLSXFWZktWcU5pYi9pWVpxNEp6RFc1cFdyUWEzeG9BMklvR009Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'
- path: /etc/kubernetes/pki/sa.key
  owner: root:root
  permissions: '0600'
  encoding: base64
  content: 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBK3NHOEJZVHcvRTh1NVpQYnJnUEJPa2cydTJJUkhNN1JjWWRUQjlkYlpDVzBGQXEvCnR6WWw5UzU5a0dwbXJNUGdyTlhvaHRRYWc2WGdhWi9rZ1NuaWRzMFVYZkVkeHRzMUU5eWl3VDE3b3hjbWtwMTMKTDRrL1dIY2xHNWNtQWo5UG1lQmNJdXBVT1ZXZ2ZzODhuVktYWTgzclVlZzBYNEE3Q0hpcFVHQldCQ2RyNGNiTApiT3FyUGczMWpBWXlnSnd6QWN2UzhGTytuOExGL0lOMldKYUpvTHhlZklRcHZvSzFSelMvbUkwTG0yVHNNUG94CldGNm90aFFFdmVrTnkzZ0JCWEpTdlNjbWJXWkJTS0VXZTk1U0sySkhObnJndFc1T2Q3eVMrNmw5Q3M4QStnUEoKUHpUTEdud0V2SDBPTFAxMEtuNG0yT0tWQXYzKzFnM2pUZHNwTFFJREFRQUJBb0lCQUFuR29janBUT2ZaUW0vSwoydWFtMk5LbjNCSmtHVnl4SjNNd25ta1EyVXhIT0FVTUFqdG5UZ1dJQVhjdTNyL2ZoeFBWNXhIU2xSSUsxbnZuCnN1WGlOeVVBaThtNXk3cGo4MmJKMUVLS1hoYVdvWGRYMGp5MU1oWUYxeG1EUkFVVWFNc0w5eXVaVFIxTEhFMjEKVUp5bGlxZG1jTVVwczFrQnk4dGh3T0FVVVdZcCs0WlVLU1ZoOXZQYU9RYnNQYVRFV2dReml6NXJZL0Q3dEFCegpjcUxmbUVGZlNLREJtbGR2V3ZMZ2E4eElNb0xBUUhqdlRqNm0wNFRXam5kcHBhemR3R29rdjZWTHBoY3I4eFh1CjJWVUJCblhVYVM5ZWQwR1BvOEk3T3VGMEozZlR5bmt2TkUrV2pKK2dDajM1MlYwMk9hREIzaTV4YzBXVjNtVUkKNW1YL0pwVUNnWUVBL1pGZnpPeXE1RUlhR3FJdk5Xdmt2NUw1enVvZVA3SFRLNW9kbHlZZFNCazdxbEpVOUJXMgpMWTZRUytGQ2xBYzFaUXhpZWdmazd5dCtRMWYxS1Jsd09qcU9zUTV1TS9ma01oSzVEMDFJOWpSSFQ2MnY0NlVvCjV2T2hBays4dlRvZi9CVVhQNG1BSW1sWWZHYnhDOVBkL3V6YTNOcWQ3TXRWOG1jRzh1NXNrbWNDZ1lFQS9TbDEKTEtNQmhhekh4L1k4dXcwYUtsVzNIbUVmaEUxMVJBQVBtRG4zRnIvQ08xTWtMYVBSelZXREJPM2w1REkzMGw4SAphcEdZZDc4VWVQVzQzb2cwdkh1ZU41SWpIYWxPSWR2V1JGRHFMYkI2OC9NSkRCY1lTTVRWMFZSWnEzb3dWM1U4CjhnaklMUWh4WmQyQTJuYlNiR3poYXFBNHFZUXhIa2M0U3NKNGMwc0NnWUVBOU5QZXVoQnhXSDl5a1BDendGTHkKeFA1MmNSQ2dNRVBVYnk4WkR3M2dDL05CSnN6ajllRFl5OWZ3L3pMNmc4OEtBUTBhTUZWYStJcjRHTEhlcHRaSApCQkh5SUlhY1pWVWVZakt0dUZhWThnKzhJdlRDOVh4TXArSG9Qa0ViTFdIbjdBKzVLTUhzbEUwL0FLNnNZdzBvCk5iSWdDRXFWWFVOZk12UERRK0J0dUZVQ2dZRUFod3ZtaGJrdXhyQTBvbWFvWHQvT1pXYjBHRENYTDJ4aWNiUFcKbmMzT0VVU1p5Q3ZCME5iaXhEWXBmaWVweXVFL0JlbkxldjNQNTVEMnlzL0pubXZxTmVGN3RRa3YwbExPYXlGcQpXMmNPaFBEdnBkS3ZzTk5oRVBCdlh3c3dDbGxVRUZOcC8zTFAxYlg3Uit1eElOamh4eFVONm1NdDFyKzlzL2twCi9qZGZLYUVDZ1lFQTFTRExIN0g2QU5IRWllbCtvS1hLSERmN1dEK1pZcGhmYWVrd1RZZDRTeUpKRFBNSjVBWEYKTXU3Z1lLc0FWbDJFYjdCZ21FL3lJa1RTc3hxdklEV2xsUFFqblZmQ2xYRUdmY3JXQ3VMdVFqcXhRVUZuZStMaQpHenZzYUlORm5lUHRpZWEzenQyQks5RlVTcDNjZUlGdVpBVGNTYk9EcThIT0p6dXRTcmVYYnRzPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo='

- path: /tmp/kubeadm.yaml
  owner: root:root
  permissions: '0640'
  content: |
    apiVersion: kubeadm.k8s.io/v1beta1
    kind: ClusterConfiguration
    clusterName: capi
    kubernetesVersion: v1.13.6
    networking:
      dnsDomain: cluster.local
      podSubnet: 10.244.0.0/16
      serviceSubnet: 10.96.0.0/12
    ---
    apiVersion: kubeadm.k8s.io/v1beta1
    kind: InitConfiguration
    nodeRegistration:
      criSocket: /var/run/containerd/containerd.sock

kubeadm:
  config: /tmp/kubeadm.yaml
  operation: init
